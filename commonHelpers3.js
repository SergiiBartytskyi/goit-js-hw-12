import{f as c,r as d,i as h,a as m}from"./assets/styles-23889e00.js";import{S as y,i as s}from"./assets/vendor-b0d10f48.js";const e={formSearch:document.getElementById("search-form"),gallery:document.querySelector(".gallery"),target:document.querySelector(".js-guard"),loader:document.querySelector(".loader")};let o="",a=0,l=0;const u=new y(".gallery a",{captionsData:"alt",captionDelay:250});s.settings({timeout:3e3,transitionIn:"fadeInDown",position:"topRight"});const b={root:null,rootMargin:"300px",threshold:1},i=new IntersectionObserver(v,b);e.loader.classList.add("disable");e.formSearch.addEventListener("submit",S);function S(r){r.preventDefault(),o=r.currentTarget.elements.searchQuery.value,o&&(i.unobserve(e.target),a=1,e.loader.classList.remove("disable"),e.gallery.innerHTML="",c(o,a).then(t=>{t.data.totalHits?(L(t.data.totalHits),e.gallery.insertAdjacentHTML("beforeend",d(t.data.hits)),i.observe(e.target),u.refresh(),l=Math.ceil(t.data.totalHits/t.data.hits.length),a===l&&(i.unobserve(e.target),g())):E()}).catch(t=>console.log(t)).finally(()=>{e.formSearch.reset(),e.loader.classList.add("disable")}))}function v(r,t){r.forEach(f=>{f.isIntersecting&&(a+=1,c(o,a).then(n=>{e.gallery.insertAdjacentHTML("beforeend",d(n.data.hits)),a===l&&(t.unobserve(e.target),g()),u.refresh()}).catch(n=>console.log(n)))})}function L(r){s.success({title:"OK",message:`Hooray! We found ${r} images.`,iconUrl:h,theme:"dark",color:"rgb(89, 161, 13)"})}function E(){s.error({title:"Error",message:"Sorry, there are no images matching your search query. Please try again!",iconUrl:m,theme:"dark",color:"rgb(239, 64, 64)"})}function g(){s.info({title:"Oh! No!",message:"We're sorry, but you've reached the end of search results."})}
//# sourceMappingURL=commonHelpers3.js.map
